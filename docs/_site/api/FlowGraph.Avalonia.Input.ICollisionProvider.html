<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Interface ICollisionProvider | FlowGraph </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Interface ICollisionProvider | FlowGraph ">
      
      <meta name="description" content="Interface for providing collision detection and prevention during node drag operations. External systems (like collision managers) can implement this interface to prevent nodes from overlapping during drag without directly modifying node positions themselves.">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/prismify-co/FlowGraph/new/master/apiSpec/new?filename=FlowGraph_Avalonia_Input_ICollisionProvider.md&amp;value=---%0Auid%3A%20FlowGraph.Avalonia.Input.ICollisionProvider%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="FlowGraph">
            FlowGraph
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="FlowGraph.Avalonia.Input.ICollisionProvider">



  <h1 id="FlowGraph_Avalonia_Input_ICollisionProvider" data-uid="FlowGraph.Avalonia.Input.ICollisionProvider" class="text-break">
Interface ICollisionProvider  <a class="header-action link-secondary" title="View source" href="https://github.com/prismify-co/FlowGraph/blob/feature/input-processor-pattern/FlowGraph.Avalonia/Input/ICollisionProvider.cs/#L19"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="FlowGraph.html">FlowGraph</a>.<a class="xref" href="FlowGraph.Avalonia.html">Avalonia</a>.<a class="xref" href="FlowGraph.Avalonia.Input.html">Input</a></dd></dl>
  <dl><dt>Assembly</dt><dd>FlowGraph.Avalonia.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Interface for providing collision detection and prevention during node drag operations.
External systems (like collision managers) can implement this interface to prevent
nodes from overlapping during drag without directly modifying node positions themselves.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public interface ICollisionProvider</code></pre>
  </div>











  <h2 id="FlowGraph_Avalonia_Input_ICollisionProvider_remarks">Remarks</h2>
  <div class="markdown level0 remarks"><p>This follows the &quot;single authority&quot; pattern where the drag system remains
the sole authority for setting node positions. Collision providers suggest offsets
to prevent overlap, and the drag system applies them after snap offsets.</p>
<p>Semantic difference from <a class="xref" href="FlowGraph.Avalonia.Input.ISnapProvider.html">ISnapProvider</a>:</p>
<ul>
<li>Snap = attraction (guide lines pull nodes toward alignment)</li>
<li>Collision = repulsion (prevents nodes from overlapping)</li>
</ul>
</div>


  <h2 class="section" id="methods">Methods
</h2>


  <a id="FlowGraph_Avalonia_Input_ICollisionProvider_GetCollisionOffset_" data-uid="FlowGraph.Avalonia.Input.ICollisionProvider.GetCollisionOffset*"></a>

  <h3 id="FlowGraph_Avalonia_Input_ICollisionProvider_GetCollisionOffset_System_Collections_Generic_IReadOnlyList_FlowGraph_Core_Node__FlowGraph_Core_Point_" data-uid="FlowGraph.Avalonia.Input.ICollisionProvider.GetCollisionOffset(System.Collections.Generic.IReadOnlyList{FlowGraph.Core.Node},FlowGraph.Core.Point)">
  GetCollisionOffset(IReadOnlyList&lt;Node&gt;, Point)
  <a class="header-action link-secondary" title="View source" href="https://github.com/prismify-co/FlowGraph/blob/feature/input-processor-pattern/FlowGraph.Avalonia/Input/ICollisionProvider.cs/#L31"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Calculate an offset to prevent collision for nodes being dragged.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">Point? GetCollisionOffset(IReadOnlyList&lt;Node&gt; nodes, Point proposedPosition)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>nodes</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ireadonlylist-1">IReadOnlyList</a>&lt;<a class="xref" href="FlowGraph.Core.Node.html">Node</a>&gt;</dt>
    <dd><p>The nodes currently being dragged.</p>
</dd>
    <dt><code>proposedPosition</code> <a class="xref" href="FlowGraph.Core.Point.html">Point</a></dt>
    <dd><p>The position the drag system is proposing for the primary node
(after applying delta, grid snapping, and snap provider offset).</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="FlowGraph.Core.Point.html">Point</a>?</dt>
    <dd><p>An offset to apply to prevent collision, or null if no collision would occur.
The offset is relative to the proposed position.</p>
</dd>
  </dl>











  <a id="FlowGraph_Avalonia_Input_ICollisionProvider_OnDragEnd_" data-uid="FlowGraph.Avalonia.Input.ICollisionProvider.OnDragEnd*"></a>

  <h3 id="FlowGraph_Avalonia_Input_ICollisionProvider_OnDragEnd_System_Collections_Generic_IReadOnlyList_FlowGraph_Core_Node__System_Boolean_" data-uid="FlowGraph.Avalonia.Input.ICollisionProvider.OnDragEnd(System.Collections.Generic.IReadOnlyList{FlowGraph.Core.Node},System.Boolean)">
  OnDragEnd(IReadOnlyList&lt;Node&gt;, bool)
  <a class="header-action link-secondary" title="View source" href="https://github.com/prismify-co/FlowGraph/blob/feature/input-processor-pattern/FlowGraph.Avalonia/Input/ICollisionProvider.cs/#L45"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Called when a drag operation ends.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void OnDragEnd(IReadOnlyList&lt;Node&gt; nodes, bool cancelled)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>nodes</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ireadonlylist-1">IReadOnlyList</a>&lt;<a class="xref" href="FlowGraph.Core.Node.html">Node</a>&gt;</dt>
    <dd><p>The nodes that were dragged.</p>
</dd>
    <dt><code>cancelled</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>Whether the drag was cancelled.</p>
</dd>
  </dl>












  <a id="FlowGraph_Avalonia_Input_ICollisionProvider_OnDragStart_" data-uid="FlowGraph.Avalonia.Input.ICollisionProvider.OnDragStart*"></a>

  <h3 id="FlowGraph_Avalonia_Input_ICollisionProvider_OnDragStart_System_Collections_Generic_IReadOnlyList_FlowGraph_Core_Node__FlowGraph_Core_Point_" data-uid="FlowGraph.Avalonia.Input.ICollisionProvider.OnDragStart(System.Collections.Generic.IReadOnlyList{FlowGraph.Core.Node},FlowGraph.Core.Point)">
  OnDragStart(IReadOnlyList&lt;Node&gt;, Point)
  <a class="header-action link-secondary" title="View source" href="https://github.com/prismify-co/FlowGraph/blob/feature/input-processor-pattern/FlowGraph.Avalonia/Input/ICollisionProvider.cs/#L38"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Called when a drag operation starts.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void OnDragStart(IReadOnlyList&lt;Node&gt; nodes, Point startPosition)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>nodes</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ireadonlylist-1">IReadOnlyList</a>&lt;<a class="xref" href="FlowGraph.Core.Node.html">Node</a>&gt;</dt>
    <dd><p>The nodes being dragged.</p>
</dd>
    <dt><code>startPosition</code> <a class="xref" href="FlowGraph.Core.Point.html">Point</a></dt>
    <dd><p>The starting canvas position of the drag.</p>
</dd>
  </dl>













</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/prismify-co/FlowGraph/blob/feature/input-processor-pattern/FlowGraph.Avalonia/Input/ICollisionProvider.cs/#L19" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Â© 2026 Prismify LLC. Licensed under MIT.
        </div>
      </div>
    </footer>
  </body>
</html>
