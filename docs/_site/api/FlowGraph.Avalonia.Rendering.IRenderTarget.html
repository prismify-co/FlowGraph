<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Interface IRenderTarget | FlowGraph </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Interface IRenderTarget | FlowGraph ">
      
      <meta name="description" content="Abstraction for adding temporary visual elements during interaction.  This interface provides a rendering-mode agnostic way to create temporary visuals such as connection preview lines, selection boxes, and drag previews. It handles coordinate transforms and container selection internally based on the current rendering mode (Visual Tree vs Direct Rendering).   Key principle: All coordinates passed to this interface are in canvas space. The implementation handles conversion to viewport coordinates when necessary (e.g., in Direct Rendering mode).">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/prismify-co/FlowGraph/new/master/apiSpec/new?filename=FlowGraph_Avalonia_Rendering_IRenderTarget.md&amp;value=---%0Auid%3A%20FlowGraph.Avalonia.Rendering.IRenderTarget%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="FlowGraph">
            FlowGraph
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="FlowGraph.Avalonia.Rendering.IRenderTarget">



  <h1 id="FlowGraph_Avalonia_Rendering_IRenderTarget" data-uid="FlowGraph.Avalonia.Rendering.IRenderTarget" class="text-break">
Interface IRenderTarget  <a class="header-action link-secondary" title="View source" href="https://github.com/prismify-co/FlowGraph/blob/feature/input-processor-pattern/FlowGraph.Avalonia/Rendering/IRenderTarget.cs/#L49"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="FlowGraph.html">FlowGraph</a>.<a class="xref" href="FlowGraph.Avalonia.html">Avalonia</a>.<a class="xref" href="FlowGraph.Avalonia.Rendering.html">Rendering</a></dd></dl>
  <dl><dt>Assembly</dt><dd>FlowGraph.Avalonia.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Abstraction for adding temporary visual elements during interaction.</p>
<p>
This interface provides a rendering-mode agnostic way to create temporary visuals
such as connection preview lines, selection boxes, and drag previews. It handles
coordinate transforms and container selection internally based on the current
rendering mode (Visual Tree vs Direct Rendering).
</p>
<p>
<b>Key principle:</b> All coordinates passed to this interface are in canvas space.
The implementation handles conversion to viewport coordinates when necessary
(e.g., in Direct Rendering mode).
</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public interface IRenderTarget</code></pre>
  </div>










  <h2 id="FlowGraph_Avalonia_Rendering_IRenderTarget_examples">Examples</h2>
  <pre><code class="lang-csharp">// In ConnectingState
public override void Enter(InputStateContext context)
{
    var startCanvas = context.RenderModel.GetPortPosition(sourceNode, sourcePort, fromOutput);

    // Create temp line - coordinates are in canvas space
    _lineHandle = context.RenderTarget.CreateConnectionPreview(
        startCanvas, startCanvas, 
        context.Theme.EdgeStroke, 2.0);
}

public override StateTransitionResult HandlePointerMoved(InputStateContext context, PointerEventArgs e)
{
    var endCanvas = context.Coordinates.GetPointerCanvasPosition(e);

    // Update with canvas coordinates - transform handled internally
    context.RenderTarget.UpdateConnectionPreview(_lineHandle, startCanvas, endCanvas);
}

public override void Exit(InputStateContext context)
{
    _lineHandle?.Dispose();
}</code></pre>




  <h2 class="section" id="methods">Methods
</h2>


  <a id="FlowGraph_Avalonia_Rendering_IRenderTarget_CreateConnectionPreview_" data-uid="FlowGraph.Avalonia.Rendering.IRenderTarget.CreateConnectionPreview*"></a>

  <h3 id="FlowGraph_Avalonia_Rendering_IRenderTarget_CreateConnectionPreview_FlowGraph_Core_Coordinates_CanvasPoint_FlowGraph_Core_Coordinates_CanvasPoint_Avalonia_Media_IBrush_System_Double_System_Double___" data-uid="FlowGraph.Avalonia.Rendering.IRenderTarget.CreateConnectionPreview(FlowGraph.Core.Coordinates.CanvasPoint,FlowGraph.Core.Coordinates.CanvasPoint,Avalonia.Media.IBrush,System.Double,System.Double[])">
  CreateConnectionPreview(CanvasPoint, CanvasPoint, IBrush, double, double[]?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/prismify-co/FlowGraph/blob/feature/input-processor-pattern/FlowGraph.Avalonia/Rendering/IRenderTarget.cs/#L65"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Creates a temporary bezier connection line for previewing connections.</p>
<p>
The line is styled with dashed strokes and reduced opacity to indicate
it's a preview rather than a committed connection.
</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IConnectionPreviewHandle CreateConnectionPreview(CanvasPoint start, CanvasPoint end, IBrush stroke, double strokeThickness, double[]? dashArray = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>start</code> <a class="xref" href="FlowGraph.Core.Coordinates.CanvasPoint.html">CanvasPoint</a></dt>
    <dd><p>Start point in canvas coordinates (port position).</p>
</dd>
    <dt><code>end</code> <a class="xref" href="FlowGraph.Core.Coordinates.CanvasPoint.html">CanvasPoint</a></dt>
    <dd><p>End point in canvas coordinates (cursor or snap target).</p>
</dd>
    <dt><code>stroke</code> <span class="xref">IBrush</span></dt>
    <dd><p>Stroke brush for the line.</p>
</dd>
    <dt><code>strokeThickness</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd><p>Stroke thickness (in screen pixels, not canvas units).</p>
</dd>
    <dt><code>dashArray</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a>[]</dt>
    <dd><p>Optional dash pattern. Defaults to [5, 3] for preview style.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="FlowGraph.Avalonia.Rendering.IConnectionPreviewHandle.html">IConnectionPreviewHandle</a></dt>
    <dd><p>A handle that can be used to update or dispose the preview line.</p>
</dd>
  </dl>











  <a id="FlowGraph_Avalonia_Rendering_IRenderTarget_CreateSelectionBox_" data-uid="FlowGraph.Avalonia.Rendering.IRenderTarget.CreateSelectionBox*"></a>

  <h3 id="FlowGraph_Avalonia_Rendering_IRenderTarget_CreateSelectionBox_FlowGraph_Core_Coordinates_CanvasRect_Avalonia_Media_IBrush_Avalonia_Media_IBrush_System_Double_" data-uid="FlowGraph.Avalonia.Rendering.IRenderTarget.CreateSelectionBox(FlowGraph.Core.Coordinates.CanvasRect,Avalonia.Media.IBrush,Avalonia.Media.IBrush,System.Double)">
  CreateSelectionBox(CanvasRect, IBrush?, IBrush, double)
  <a class="header-action link-secondary" title="View source" href="https://github.com/prismify-co/FlowGraph/blob/feature/input-processor-pattern/FlowGraph.Avalonia/Rendering/IRenderTarget.cs/#L84"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Creates a temporary selection rectangle.</p>
<p>
Used during box selection to show the selection area.
</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">ISelectionBoxHandle CreateSelectionBox(CanvasRect bounds, IBrush? fill, IBrush stroke, double strokeThickness)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>bounds</code> <a class="xref" href="FlowGraph.Core.Coordinates.CanvasRect.html">CanvasRect</a></dt>
    <dd><p>Rectangle bounds in canvas coordinates.</p>
</dd>
    <dt><code>fill</code> <span class="xref">IBrush</span></dt>
    <dd><p>Optional fill brush (typically semi-transparent).</p>
</dd>
    <dt><code>stroke</code> <span class="xref">IBrush</span></dt>
    <dd><p>Stroke brush for the border.</p>
</dd>
    <dt><code>strokeThickness</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd><p>Border thickness (in screen pixels).</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="FlowGraph.Avalonia.Rendering.ISelectionBoxHandle.html">ISelectionBoxHandle</a></dt>
    <dd><p>A handle that can be used to update or dispose the selection box.</p>
</dd>
  </dl>











  <a id="FlowGraph_Avalonia_Rendering_IRenderTarget_Invalidate_" data-uid="FlowGraph.Avalonia.Rendering.IRenderTarget.Invalidate*"></a>

  <h3 id="FlowGraph_Avalonia_Rendering_IRenderTarget_Invalidate" data-uid="FlowGraph.Avalonia.Rendering.IRenderTarget.Invalidate">
  Invalidate()
  <a class="header-action link-secondary" title="View source" href="https://github.com/prismify-co/FlowGraph/blob/feature/input-processor-pattern/FlowGraph.Avalonia/Rendering/IRenderTarget.cs/#L98"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Invalidates the render target, triggering a redraw.</p>
<p>
In Visual Tree mode, this may do nothing (elements update automatically).
In Direct Rendering mode, this calls InvalidateVisual() on the renderer.
</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void Invalidate()</code></pre>
  </div>














</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/prismify-co/FlowGraph/blob/feature/input-processor-pattern/FlowGraph.Avalonia/Rendering/IRenderTarget.cs/#L49" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Â© 2026 Prismify LLC. Licensed under MIT.
        </div>
      </div>
    </footer>
  </body>
</html>
