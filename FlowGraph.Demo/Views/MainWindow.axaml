<shad:Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:FlowGraph.Demo.ViewModels"
        xmlns:lucide="clr-namespace:LucideAvalonia;assembly=LucideAvalonia"
        xmlns:shad="clr-namespace:ShadUI;assembly=ShadUI"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="1200" d:DesignHeight="800"
        x:Class="FlowGraph.Demo.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        Title="FlowGraph Demo"
        Width="1200" Height="800">

    <Design.DataContext>
        <vm:MainWindowViewModel/>
    </Design.DataContext>

    <Grid ColumnDefinitions="Auto,*">
        <!-- ShadUI Sidebar -->
        <shad:Sidebar x:Name="MainSidebar" 
                      Grid.Column="0" 
                      Expanded="True"
                      Width="220">
            
            <!-- Header -->
            <shad:Sidebar.Header>
                <StackPanel Margin="8,12">
                    <StackPanel Orientation="Horizontal" Spacing="10">
                        <lucide:Lucide Icon="Workflow" StrokeThickness="1.5" Width="24" Height="24" Foreground="{DynamicResource PrimaryBrush}"/>
                        <TextBlock Text="FlowGraph" FontWeight="Bold" FontSize="18" VerticalAlignment="Center"/>
                    </StackPanel>
                    <TextBlock Text="Demo Application" FontSize="12" Foreground="{DynamicResource MutedForegroundBrush}" Margin="34,4,0,0"/>
                </StackPanel>
            </shad:Sidebar.Header>
            
            <!-- Navigation Items -->
            <StackPanel Spacing="4">
                <shad:SidebarItemLabel Text="PAGES" Expanded="{Binding #MainSidebar.Expanded}"/>
                
                <shad:SidebarItem x:Name="NavInteractive"
                                  Content="Interactive 3D"
                                  Route="interactive"
                                  IsChecked="True"
                                  Expanded="{Binding #MainSidebar.Expanded}"
                                  SharedSizeGroup="{Binding #MainSidebar.DefaultItemsSharedSizeGroup}"
                                  GroupName="{Binding #MainSidebar.DefaultItemsGroup}"
                                  Click="OnNavInteractiveClick">
                    <shad:SidebarItem.Icon>
                        <lucide:Lucide Icon="Boxes" StrokeThickness="1.5" Width="18" Height="18"/>
                    </shad:SidebarItem.Icon>
                </shad:SidebarItem>
                
                <shad:SidebarItem x:Name="NavShapes"
                                  Content="Shapes &amp; Z-Index"
                                  Route="shapes"
                                  Expanded="{Binding #MainSidebar.Expanded}"
                                  SharedSizeGroup="{Binding #MainSidebar.DefaultItemsSharedSizeGroup}"
                                  GroupName="{Binding #MainSidebar.DefaultItemsGroup}"
                                  Click="OnNavShapesClick">
                    <shad:SidebarItem.Icon>
                        <lucide:Lucide Icon="Shapes" StrokeThickness="1.5" Width="18" Height="18"/>
                    </shad:SidebarItem.Icon>
                </shad:SidebarItem>
                
                <shad:SidebarItem x:Name="NavPerformance"
                                  Content="Performance Test"
                                  Route="performance"
                                  Expanded="{Binding #MainSidebar.Expanded}"
                                  SharedSizeGroup="{Binding #MainSidebar.DefaultItemsSharedSizeGroup}"
                                  GroupName="{Binding #MainSidebar.DefaultItemsGroup}"
                                  Click="OnNavPerformanceClick">
                    <shad:SidebarItem.Icon>
                        <lucide:Lucide Icon="Gauge" StrokeThickness="1.5" Width="18" Height="18"/>
                    </shad:SidebarItem.Icon>
                </shad:SidebarItem>
            </StackPanel>
            
            <!-- Footer with collapse toggle -->
            <shad:Sidebar.Footer>
                <StackPanel Margin="8">
                    <Button x:Name="CollapseButton" 
                            Click="OnToggleSidebar"
                            Background="Transparent"
                            Padding="8"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Left"
                            CornerRadius="6">
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <lucide:Lucide Icon="PanelLeftClose" StrokeThickness="1.5" Width="18" Height="18"/>
                            <TextBlock Text="Collapse" VerticalAlignment="Center" IsVisible="{Binding #MainSidebar.Expanded}"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </shad:Sidebar.Footer>
        </shad:Sidebar>
        
        <!-- Main Content Area -->
        <Border Grid.Column="1" 
                Background="{DynamicResource BackgroundBrush}"
                Padding="16">
            <shad:Card>
                <ContentControl x:Name="PageContent"/>
            </shad:Card>
        </Border>
    </Grid>

</shad:Window>

